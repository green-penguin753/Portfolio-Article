# 【Linux】標準入出力とは？

# 標準入出力

プログラムは「処理を行うデータの入力」と「処理を行った結果の出力」を持っている。

- **標準入力(stdin)**  
  プログラムに<span style="background: linear-gradient(transparent 60%, #ffff00 60%);">入ってくるデータ</span>のこと。通常はキーボードから入力する。

- **標準出力(stdout）**  
  プログラムの<span style="background: linear-gradient(transparent 60%, #ffff00 60%);">実行結果を書き出す先</span> のこと。 通常はコンソール(端末画面)に出力する。

- **標準エラー出力（stderr)**  
  <span style="background: linear-gradient(transparent 60%, #ffff00 60%);">エラーメッセージを書き出す先</span> のこと。通常はコンソール(端末画面)に出力する。

- この 3 つを合わせて標準入出力といい、  
  ファイルディスクリプタ（ファイル識別用の番号）として扱われる。  
  ０：標準入力  
  １：標準出力  
  ２：標準エラー出力

# リダイレクト

リダイレクトとは、入出力先を変更すること。

- コマンドの出力結果をコンソールに表示ではなく、ファイルに書き込むことができる。
  ファイルの内容を標準入力としても使用できる。
- <span style="background: linear-gradient(transparent 60%, #ffff00 60%);">リダイレクトは「>」、追加リダイレクトは「>>」</span>で表す。

##### 標準出力のリダイレクト

```bash
$ ls > ls-output
$ cat ls-output
ls-output
(実行結果)
```

`コマンド > 出力先ファイル`

- ファイルにリダイレクトされたので、  
  作成されたファイル「ls-output」に実行結果が書き込まれている。

- また、ls-output ファイルが先に作成されてから ls コマンドが実行されるため、  
  ls-output 自身も ls コマンドの結果に含まれる。

###### 標準出力の追加リダイレクト

```bash
$ ls >> ls-output
$ cat ls-output
ls-output
(実行結果)
ls-output
(実行結果)

```

`コマンド >> 出力先ファイル`

- 追加リダイレクトなので、  
  1 回目の結果を上書きせず残したまま、2 回目の実行結果を追記している。
- 「>」・・・ファイル全体の上書き  
  「>>」・・・ファイルの最終行に追記

###### cat コマンドによるファイル作成

```bash
$ cat > cat-output
(文字列)
(Ctrl+dを押す)
$ cat cat-output
(文字列)
```

- cat コマンドの標準出力をファイルにリダイレクトすることで、  
  キーボードから入力した文字列をファイルに書き込める。

##### 標準エラー出力のリダイレクト

`コマンド 2> 出力先ファイル`

- エラーメッセージはコンソールではなく、  
  出力先ファイルに書き込まれる。

##### それぞれ別のファイルにリダイレクト

`コマンド > 標準出力先ファイル 2> 標準エラー出力先ファイル`

- 正常に実行された結果は、標準出力先ファイル。  
  エラー結果は、標準エラー出力先ファイルに出力される。

##### まとめてファイルに出力する

`コマンド > 標準出力先ファイル 2>&1`

- 「2>&1」で表す。
- 標準出力先ファイルに標準出力と標準エラー出力がまとめて書き込まれる。

###### 標準入力のリダイレクト

`コマンド < ファイル`

- コマンドはファイルの内容を標準入力として受け取る。
- コマンドは引数を使うので標準入力はあまり使わない。

# パイプライン

パイプラインとは
コマンドの標準出力を、次のコマンドの標準入力として使う流れのこと。

- 複数のコマンドを連結することで、複雑な処理を行うことができる。

```bash
 $ps aux | grep 調べたいプロセス名
```

`コマンド1 | コマンド2`

- コマンドの間に「|(パイプ)」を挟む。
- 標準エラー出力も使いたいときは「|&」を使う。

---

### 参考にしたサイト

- パイプ[https://academy.gmocloud.com/wp/know/20210630/12090]
